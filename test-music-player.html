<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Music Player Test</title>
    <link rel="stylesheet" href="assets/css/style.css">
</head>
<body>
    <div class="music-player" id="musicPlayer">
        <audio id="cyberpunkAudio" loop preload="auto">
            <source src="cyberpunk.mp3" type="audio/mpeg">
            Your browser does not support the audio element.
        </audio>
        
        <div class="player-controls">
            <button class="player-btn play-pause-btn" id="playPauseBtn" title="Play/Pause">
                <i class="fas fa-play" id="playPauseIcon"></i>
            </button>
            
            <div class="volume-container">
                <button class="player-btn volume-btn" id="volumeBtn" title="Mute/Unmute">
                    <i class="fas fa-volume-up" id="volumeIcon"></i>
                </button>
                <div class="volume-slider-container">
                    <input type="range" class="volume-slider" id="volumeSlider" 
                           min="0" max="100" value="50" title="Volume">
                </div>
            </div>
            
            <div class="music-info">
                <span class="music-title">Cyberpunk Atmosphere</span>
                <div class="music-equalizer" id="equalizer">
                    <div class="eq-bar"></div>
                    <div class="eq-bar"></div>
                    <div class="eq-bar"></div>
                    <div class="eq-bar"></div>
                </div>
            </div>
        </div>
        
        <button class="player-toggle" id="playerToggle" title="Toggle Player">
            <i class="fas fa-music"></i>
        </button>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/js/all.min.js"></script>
    <script>
        // Simple test function for the music player
        function initMusicPlayer() {
            const audio = document.getElementById('cyberpunkAudio');
            const playPauseBtn = document.getElementById('playPauseBtn');
            const playPauseIcon = document.getElementById('playPauseIcon');
            const volumeBtn = document.getElementById('volumeBtn');
            const volumeIcon = document.getElementById('volumeIcon');
            const volumeSlider = document.getElementById('volumeSlider');
            const playerToggle = document.getElementById('playerToggle');
            const musicPlayer = document.getElementById('musicPlayer');
            const equalizer = document.getElementById('equalizer');
            
            if (!audio || !playPauseBtn || !volumeSlider || !playerToggle) {
                console.error('Music player elements not found');
                return;
            }
            
            console.log('Music player initialized successfully');
            
            let isPlaying = false;
            let isMuted = false;
            let previousVolume = 0.5;
            
            // Initialize audio settings
            audio.volume = 0.5;
            audio.loop = true;
            
            // Test play/pause
            playPauseBtn.addEventListener('click', function() {
                if (isPlaying) {
                    audio.pause();
                    isPlaying = false;
                    playPauseIcon.className = 'fas fa-play';
                    equalizer.classList.add('paused');
                } else {
                    audio.play().then(() => {
                        isPlaying = true;
                        playPauseIcon.className = 'fas fa-pause';
                        equalizer.classList.remove('paused');
                    }).catch(error => {
                        console.error('Error playing audio:', error);
                    });
                }
            });
            
            // Test volume control
            volumeSlider.addEventListener('input', function() {
                const volume = this.value / 100;
                audio.volume = volume;
                console.log('Volume set to:', volume);
            });
            
            // Test toggle
            playerToggle.addEventListener('click', function() {
                musicPlayer.classList.toggle('expanded');
                console.log('Player toggled');
            });
            
            console.log('All event listeners attached');
        }
        
        document.addEventListener('DOMContentLoaded', initMusicPlayer);
    </script>
</body>
</html>
